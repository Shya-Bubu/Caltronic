{
    "conceptId": "non-inverting-amplifier",
    "visuals": [
        {
            "id": "diag-intuition-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "intuition",
            "title": "Non-Inverting Amplifier Circuit",
            "description": "Input to non-inverting (+), R1 from (−) to ground, R2 feedback from output to (−).",
            "blocks": [
                {
                    "id": "Vi",
                    "label": "Vi",
                    "x": 10,
                    "y": 30,
                    "type": "input"
                },
                {
                    "id": "opamp",
                    "label": "Op-Amp",
                    "x": 150,
                    "y": 30,
                    "width": 80,
                    "height": 60
                },
                {
                    "id": "R2",
                    "label": "R2 (39kΩ)",
                    "x": 150,
                    "y": 120,
                    "width": 90
                },
                {
                    "id": "R1",
                    "label": "R1 (2.2kΩ)",
                    "x": 150,
                    "y": 180,
                    "width": 90
                },
                {
                    "id": "Vo",
                    "label": "Vo",
                    "x": 300,
                    "y": 50,
                    "type": "output"
                },
                {
                    "id": "gnd",
                    "label": "GND",
                    "x": 150,
                    "y": 240,
                    "type": "input"
                }
            ],
            "connections": [
                {
                    "from": "Vi",
                    "to": "opamp",
                    "label": "+"
                },
                {
                    "from": "opamp",
                    "to": "Vo"
                },
                {
                    "from": "opamp",
                    "to": "R2",
                    "label": "feedback"
                },
                {
                    "from": "R2",
                    "to": "opamp",
                    "label": "−"
                },
                {
                    "from": "R2",
                    "to": "R1"
                },
                {
                    "from": "R1",
                    "to": "gnd"
                }
            ]
        },
        {
            "id": "sim-intuition-01",
            "visualType": "simulation",
            "type": "d3-simulation",
            "simulationType": "signal-generator",
            "placement": "intuition",
            "title": "In-Phase Amplification",
            "description": "See how the output follows the input (no phase flip) with amplified amplitude."
        },
        {
            "id": "diag-intuition-02",
            "visualType": "diagram",
            "type": "d3-waveform",
            "placement": "intuition",
            "title": "Input vs Output (In Phase)",
            "description": "Both waveforms peak at the same time — no inversion!",
            "waveType": "sine",
            "mode": "continuous"
        },
        {
            "id": "diag-engineering-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "engineering",
            "title": "Activity 2: Lab Setup",
            "description": "Function generator → Non-inverting input → Measure output",
            "blocks": [
                {
                    "id": "fg",
                    "label": "Function Gen",
                    "x": 10,
                    "y": 50,
                    "type": "input",
                    "width": 90
                },
                {
                    "id": "circuit",
                    "label": "Non-Inv Amp",
                    "x": 140,
                    "y": 40,
                    "width": 100
                },
                {
                    "id": "scope",
                    "label": "Oscilloscope",
                    "x": 290,
                    "y": 50,
                    "type": "output",
                    "width": 90
                }
            ],
            "connections": [
                {
                    "from": "fg",
                    "to": "circuit",
                    "label": "Vi to +"
                },
                {
                    "from": "circuit",
                    "to": "scope",
                    "label": "Vo"
                }
            ]
        },
        {
            "id": "diag-engineering-02",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "engineering",
            "title": "Unity Gain Buffer (Voltage Follower)",
            "description": "When R2 = 0 and R1 = ∞, gain = 1. Used for impedance matching.",
            "blocks": [
                {
                    "id": "Vi",
                    "label": "Vi",
                    "x": 10,
                    "y": 50,
                    "type": "input"
                },
                {
                    "id": "opamp",
                    "label": "Buffer",
                    "x": 100,
                    "y": 40,
                    "width": 80
                },
                {
                    "id": "Vo",
                    "label": "Vo = Vi",
                    "x": 230,
                    "y": 50,
                    "type": "output"
                }
            ],
            "connections": [
                {
                    "from": "Vi",
                    "to": "opamp",
                    "label": "+"
                },
                {
                    "from": "opamp",
                    "to": "Vo"
                },
                {
                    "from": "Vo",
                    "to": "opamp",
                    "label": "direct −"
                }
            ]
        },
        {
            "id": "diag-mathematics-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "mathematics",
            "title": "Voltage Divider Analysis",
            "description": "R1 and R2 form a divider. V− = Vo × R1/(R1+R2). Set V− = Vi for virtual short.",
            "blocks": [
                {
                    "id": "Vo",
                    "label": "Vo",
                    "x": 10,
                    "y": 50,
                    "type": "input"
                },
                {
                    "id": "R2",
                    "label": "R2",
                    "x": 80,
                    "y": 40,
                    "width": 60
                },
                {
                    "id": "Vminus",
                    "label": "V− = Vi",
                    "x": 180,
                    "y": 40,
                    "width": 80
                },
                {
                    "id": "R1",
                    "label": "R1",
                    "x": 180,
                    "y": 110,
                    "width": 60
                },
                {
                    "id": "gnd",
                    "label": "GND",
                    "x": 180,
                    "y": 170,
                    "type": "output"
                }
            ],
            "connections": [
                {
                    "from": "Vo",
                    "to": "R2"
                },
                {
                    "from": "R2",
                    "to": "Vminus"
                },
                {
                    "from": "Vminus",
                    "to": "R1"
                },
                {
                    "from": "R1",
                    "to": "gnd"
                }
            ]
        }
    ]
}