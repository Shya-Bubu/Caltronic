{
    "conceptId": "summing-amplifier",
    "visuals": [
        {
            "id": "diag-intuition-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "intuition",
            "title": "Summing Amplifier Circuit",
            "description": "Multiple inputs each through their own resistor, all meeting at the virtual ground.",
            "blocks": [
                {
                    "id": "V1",
                    "label": "V1",
                    "x": 10,
                    "y": 20,
                    "type": "input"
                },
                {
                    "id": "R1",
                    "label": "R1 (1.2kΩ)",
                    "x": 80,
                    "y": 10,
                    "width": 90
                },
                {
                    "id": "V2",
                    "label": "V2",
                    "x": 10,
                    "y": 80,
                    "type": "input"
                },
                {
                    "id": "R2",
                    "label": "R2 (18kΩ)",
                    "x": 80,
                    "y": 70,
                    "width": 90
                },
                {
                    "id": "node",
                    "label": "V−",
                    "x": 200,
                    "y": 40,
                    "width": 40,
                    "height": 50
                },
                {
                    "id": "opamp",
                    "label": "Op-Amp",
                    "x": 270,
                    "y": 30,
                    "width": 80,
                    "height": 60
                },
                {
                    "id": "Rf",
                    "label": "Rf (39kΩ)",
                    "x": 270,
                    "y": 120,
                    "width": 90
                },
                {
                    "id": "Vo",
                    "label": "Vo",
                    "x": 400,
                    "y": 50,
                    "type": "output"
                },
                {
                    "id": "gnd",
                    "label": "GND",
                    "x": 270,
                    "y": 0,
                    "type": "input"
                }
            ],
            "connections": [
                {
                    "from": "V1",
                    "to": "R1"
                },
                {
                    "from": "R1",
                    "to": "node"
                },
                {
                    "from": "V2",
                    "to": "R2"
                },
                {
                    "from": "R2",
                    "to": "node"
                },
                {
                    "from": "node",
                    "to": "opamp",
                    "label": "−"
                },
                {
                    "from": "gnd",
                    "to": "opamp",
                    "label": "+"
                },
                {
                    "from": "opamp",
                    "to": "Vo"
                },
                {
                    "from": "opamp",
                    "to": "Rf"
                },
                {
                    "from": "Rf",
                    "to": "node"
                }
            ]
        },
        {
            "id": "sim-intuition-01",
            "visualType": "simulation",
            "type": "d3-simulation",
            "simulationType": "harmonic-builder",
            "placement": "intuition",
            "title": "Signal Mixing Demo",
            "description": "See how multiple signals combine into a single output with different weights."
        },
        {
            "id": "diag-engineering-01",
            "visualType": "diagram",
            "type": "d3-waveform",
            "placement": "engineering",
            "title": "AC + DC Mixing",
            "description": "Triangle wave (AC) riding on DC offset — the result of summing AC and DC signals.",
            "waveType": "triangle",
            "mode": "continuous"
        },
        {
            "id": "diag-engineering-02",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "engineering",
            "title": "Activity 4: Lab Setup",
            "description": "V1 = Triangle wave from function generator, V2 = 3V DC from voltage divider.",
            "blocks": [
                {
                    "id": "fg",
                    "label": "Func Gen",
                    "x": 10,
                    "y": 30,
                    "type": "input",
                    "width": 70
                },
                {
                    "id": "v1",
                    "label": "V1 (AC)",
                    "x": 100,
                    "y": 30,
                    "width": 70
                },
                {
                    "id": "ps",
                    "label": "+15V",
                    "x": 10,
                    "y": 90,
                    "type": "input",
                    "width": 50
                },
                {
                    "id": "divider",
                    "label": "V Divider",
                    "x": 80,
                    "y": 80,
                    "width": 80
                },
                {
                    "id": "v2",
                    "label": "V2 = 3V DC",
                    "x": 180,
                    "y": 80,
                    "width": 90
                },
                {
                    "id": "summer",
                    "label": "Summer",
                    "x": 220,
                    "y": 40,
                    "width": 80
                },
                {
                    "id": "scope",
                    "label": "Scope",
                    "x": 340,
                    "y": 50,
                    "type": "output",
                    "width": 60
                }
            ],
            "connections": [
                {
                    "from": "fg",
                    "to": "v1"
                },
                {
                    "from": "v1",
                    "to": "summer"
                },
                {
                    "from": "ps",
                    "to": "divider"
                },
                {
                    "from": "divider",
                    "to": "v2"
                },
                {
                    "from": "v2",
                    "to": "summer"
                },
                {
                    "from": "summer",
                    "to": "scope"
                }
            ]
        },
        {
            "id": "diag-mathematics-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "mathematics",
            "title": "Weighted Sum Formula",
            "description": "Vo = −(Rf/R1)V1 − (Rf/R2)V2. Each input scaled by its own gain.",
            "blocks": [
                {
                    "id": "formula",
                    "label": "Vo = −Σ(Rf/Rn)Vn",
                    "x": 100,
                    "y": 40,
                    "width": 180
                },
                {
                    "id": "activity4",
                    "label": "A1=32.5, A2=2.17",
                    "x": 100,
                    "y": 100,
                    "width": 180
                }
            ],
            "connections": []
        }
    ]
}