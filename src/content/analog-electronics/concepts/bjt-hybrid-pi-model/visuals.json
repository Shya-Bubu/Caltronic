{
    "visuals": [
        {
            "id": "h-parameter-full-model",
            "type": "plotly",
            "title": "General h-Parameter Two-Port Model",
            "description": "Four h-parameters: h_ie (input impedance), h_re (reverse feedback ≈ 0), h_fe (forward gain = β), h_oe (output admittance ≈ 0).",
            "traces": [
                {
                    "x": [
                        "h_ie = r_π\n(input Z)",
                        "h_re · v_ce\n(≈ 0, neglect)",
                        "h_fe · i_b = β·i_b\n(forward gain)",
                        "1/h_oe = R_out\n(≈ ∞, neglect)"
                    ],
                    "y": [
                        1,
                        1,
                        1,
                        1
                    ],
                    "type": "bar",
                    "marker": {
                        "color": [
                            "#4f8cff",
                            "#aab4c0",
                            "#2fbf8f",
                            "#aab4c0"
                        ]
                    },
                    "text": [
                        "INPUT SIDE<br>Keep ✓",
                        "INPUT SIDE<br>Drop (≈0) ✗",
                        "OUTPUT SIDE<br>Keep ✓",
                        "OUTPUT SIDE<br>Drop (≈∞) ✗"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 10,
                        "color": "#ffffff"
                    },
                    "showlegend": false,
                    "hoverinfo": "none"
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "h-Parameters"
                },
                "yaxis": {
                    "visible": false,
                    "range": [
                        0,
                        1.3
                    ]
                },
                "showlegend": false,
                "annotations": [
                    {
                        "x": "h_re · v_ce\n(≈ 0, neglect)",
                        "y": 1.15,
                        "text": "Greyed = neglected in hybrid-π",
                        "showarrow": false,
                        "font": {
                            "size": 11,
                            "color": "#aab4c0"
                        }
                    }
                ]
            },
            "height": 300
        },
        {
            "id": "hybrid-pi-circuit",
            "type": "plotly",
            "title": "The Hybrid-π Model (Simplified 3-Parameter)",
            "description": "After dropping h_re and h_oe: r_π between base-emitter, β·i_b current source from collector to emitter.",
            "traces": [
                {
                    "x": [
                        "B (Base)",
                        "r_π = h_ie",
                        "E (Emitter)",
                        "β · i_b (CCCS)",
                        "C (Collector)"
                    ],
                    "y": [
                        1,
                        1,
                        1,
                        1,
                        1
                    ],
                    "type": "bar",
                    "marker": {
                        "color": [
                            "#f5a623",
                            "#4f8cff",
                            "#f5a623",
                            "#2fbf8f",
                            "#f5a623"
                        ]
                    },
                    "text": [
                        "Input<br>terminal",
                        "Input<br>resistance<br>v_be = i_b·r_π",
                        "Common<br>terminal",
                        "Current-controlled<br>current source<br>i_c = β·i_b",
                        "Output<br>terminal"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 10,
                        "color": "#ffffff"
                    },
                    "showlegend": false,
                    "hoverinfo": "none"
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "Hybrid-π Model Elements"
                },
                "yaxis": {
                    "visible": false,
                    "range": [
                        0,
                        1.3
                    ]
                },
                "showlegend": false,
                "annotations": [
                    {
                        "x": "r_π = h_ie",
                        "y": 1.15,
                        "text": "r_π = βV_T/I_CQ",
                        "showarrow": false,
                        "font": {
                            "size": 12,
                            "color": "#4f8cff"
                        }
                    },
                    {
                        "x": "β · i_b (CCCS)",
                        "y": 1.15,
                        "text": "or g_m · v_be (VCCS)",
                        "showarrow": false,
                        "font": {
                            "size": 12,
                            "color": "#2fbf8f"
                        }
                    }
                ]
            },
            "height": 300
        },
        {
            "id": "vccs-conversion",
            "type": "plotly",
            "title": "CCCS → VCCS: Introducing Transconductance g_m",
            "description": "Since i_b = v_be/r_π: β·i_b = β·v_be/r_π = g_m·v_be. g_m = β/r_π = I_CQ/V_T (β-independent!).",
            "traces": [
                {
                    "x": [
                        "CCCS Form",
                        "→ Substitute →",
                        "VCCS Form"
                    ],
                    "y": [
                        1,
                        1,
                        1
                    ],
                    "type": "bar",
                    "marker": {
                        "color": [
                            "#4f8cff",
                            "#f5a623",
                            "#2fbf8f"
                        ]
                    },
                    "text": [
                        "i_c = β · i_b<br>= β · (v_be/r_π)",
                        "Define:<br>g_m = β/r_π<br>= I_CQ/V_T",
                        "i_c = g_m · v_be<br>g_m is<br>β-INDEPENDENT!"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 10,
                        "color": "#ffffff"
                    },
                    "showlegend": false,
                    "hoverinfo": "none"
                }
            ],
            "layout": {
                "xaxis": {
                    "title": ""
                },
                "yaxis": {
                    "visible": false,
                    "range": [
                        0,
                        1.3
                    ]
                },
                "showlegend": false
            },
            "height": 280
        },
        {
            "id": "gm-vs-ic-plot",
            "type": "plotly",
            "title": "Transconductance g_m vs I_CQ",
            "description": "g_m = I_CQ/V_T. Linear with I_CQ. At 1 mA: g_m = 38.5 mA/V. At 10 mA: g_m = 385 mA/V.",
            "traces": [
                {
                    "mode": "lines",
                    "name": "g_m (mA/V) at 27°C",
                    "line": {
                        "color": "#2fbf8f",
                        "width": 2.5
                    },
                    "x": [
                        0.1,
                        0.2,
                        0.3,
                        0.4,
                        0.5,
                        0.6,
                        0.7,
                        0.8,
                        0.9,
                        1,
                        1.1,
                        1.2,
                        1.3,
                        1.4,
                        1.5,
                        1.6,
                        1.7,
                        1.8,
                        1.9,
                        2,
                        2.1,
                        2.2,
                        2.3,
                        2.4,
                        2.5,
                        2.6,
                        2.7,
                        2.8,
                        2.9,
                        3,
                        3.1,
                        3.2,
                        3.3,
                        3.4,
                        3.5,
                        3.6,
                        3.7,
                        3.8,
                        3.9,
                        4,
                        4.1,
                        4.2,
                        4.3,
                        4.4,
                        4.5,
                        4.6,
                        4.7,
                        4.8,
                        4.9,
                        5,
                        5.1,
                        5.2,
                        5.3,
                        5.4,
                        5.5,
                        5.6,
                        5.7,
                        5.8,
                        5.9,
                        6,
                        6.1,
                        6.2,
                        6.3,
                        6.4,
                        6.5,
                        6.6,
                        6.7,
                        6.8,
                        6.9,
                        7,
                        7.1,
                        7.2,
                        7.3,
                        7.4,
                        7.5,
                        7.6,
                        7.7,
                        7.8,
                        7.9,
                        8,
                        8.1,
                        8.2,
                        8.3,
                        8.4,
                        8.5,
                        8.6,
                        8.7,
                        8.8,
                        8.9,
                        9,
                        9.1,
                        9.2,
                        9.3,
                        9.4,
                        9.5,
                        9.6,
                        9.7,
                        9.8,
                        9.9,
                        10
                    ],
                    "y": [
                        3.8462,
                        7.6923,
                        11.5385,
                        15.3846,
                        19.2308,
                        23.0769,
                        26.9231,
                        30.7692,
                        34.6154,
                        38.4615,
                        42.3077,
                        46.1538,
                        50,
                        53.8462,
                        57.6923,
                        61.5385,
                        65.3846,
                        69.2308,
                        73.0769,
                        76.9231,
                        80.7692,
                        84.6154,
                        88.4615,
                        92.3077,
                        96.1538,
                        100,
                        103.8462,
                        107.6923,
                        111.5385,
                        115.3846,
                        119.2308,
                        123.0769,
                        126.9231,
                        130.7692,
                        134.6154,
                        138.4615,
                        142.3077,
                        146.1538,
                        150,
                        153.8462,
                        157.6923,
                        161.5385,
                        165.3846,
                        169.2308,
                        173.0769,
                        176.9231,
                        180.7692,
                        184.6154,
                        188.4615,
                        192.3077,
                        196.1538,
                        200,
                        203.8462,
                        207.6923,
                        211.5385,
                        215.3846,
                        219.2308,
                        223.0769,
                        226.9231,
                        230.7692,
                        234.6154,
                        238.4615,
                        242.3077,
                        246.1538,
                        250,
                        253.8462,
                        257.6923,
                        261.5385,
                        265.3846,
                        269.2308,
                        273.0769,
                        276.9231,
                        280.7692,
                        284.6154,
                        288.4615,
                        292.3077,
                        296.1538,
                        300,
                        303.8462,
                        307.6923,
                        311.5385,
                        315.3846,
                        319.2308,
                        323.0769,
                        326.9231,
                        330.7692,
                        334.6154,
                        338.4615,
                        342.3077,
                        346.1538,
                        350,
                        353.8462,
                        357.6923,
                        361.5385,
                        365.3846,
                        369.2308,
                        373.0769,
                        376.9231,
                        380.7692,
                        384.6154
                    ]
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "I_CQ (mA)"
                },
                "yaxis": {
                    "title": "g_m (mA/V)"
                },
                "showlegend": true
            }
        },
        {
            "id": "rpi-vs-ic-plot",
            "type": "plotly",
            "title": "r_π vs I_CQ (for different β values)",
            "description": "r_π = βV_T/I_CQ. Decreases with I_CQ, increases with β.",
            "traces": [
                {
                    "mode": "lines",
                    "name": "r_π (kΩ), β = 100",
                    "line": {
                        "color": "#4f8cff",
                        "width": 2.5
                    },
                    "x": [
                        0.1,
                        0.2,
                        0.3,
                        0.4,
                        0.5,
                        0.6,
                        0.7,
                        0.8,
                        0.9,
                        1,
                        1.1,
                        1.2,
                        1.3,
                        1.4,
                        1.5,
                        1.6,
                        1.7,
                        1.8,
                        1.9,
                        2,
                        2.1,
                        2.2,
                        2.3,
                        2.4,
                        2.5,
                        2.6,
                        2.7,
                        2.8,
                        2.9,
                        3,
                        3.1,
                        3.2,
                        3.3,
                        3.4,
                        3.5,
                        3.6,
                        3.7,
                        3.8,
                        3.9,
                        4,
                        4.1,
                        4.2,
                        4.3,
                        4.4,
                        4.5,
                        4.6,
                        4.7,
                        4.8,
                        4.9,
                        5,
                        5.1,
                        5.2,
                        5.3,
                        5.4,
                        5.5,
                        5.6,
                        5.7,
                        5.8,
                        5.9,
                        6,
                        6.1,
                        6.2,
                        6.3,
                        6.4,
                        6.5,
                        6.6,
                        6.7,
                        6.8,
                        6.9,
                        7,
                        7.1,
                        7.2,
                        7.3,
                        7.4,
                        7.5,
                        7.6,
                        7.7,
                        7.8,
                        7.9,
                        8,
                        8.1,
                        8.2,
                        8.3,
                        8.4,
                        8.5,
                        8.6,
                        8.7,
                        8.8,
                        8.9,
                        9,
                        9.1,
                        9.2,
                        9.3,
                        9.4,
                        9.5,
                        9.6,
                        9.7,
                        9.8,
                        9.9,
                        10
                    ],
                    "y": [
                        26,
                        13,
                        8.6667,
                        6.5,
                        5.2,
                        4.3333,
                        3.7143,
                        3.25,
                        2.8889,
                        2.6,
                        2.3636,
                        2.1667,
                        2,
                        1.8571,
                        1.7333,
                        1.625,
                        1.5294,
                        1.4444,
                        1.3684,
                        1.3,
                        1.2381,
                        1.1818,
                        1.1304,
                        1.0833,
                        1.04,
                        1,
                        0.963,
                        0.9286,
                        0.8966,
                        0.8667,
                        0.8387,
                        0.8125,
                        0.7879,
                        0.7647,
                        0.7429,
                        0.7222,
                        0.7027,
                        0.6842,
                        0.6667,
                        0.65,
                        0.6341,
                        0.619,
                        0.6047,
                        0.5909,
                        0.5778,
                        0.5652,
                        0.5532,
                        0.5417,
                        0.5306,
                        0.52,
                        0.5098,
                        0.5,
                        0.4906,
                        0.4815,
                        0.4727,
                        0.4643,
                        0.4561,
                        0.4483,
                        0.4407,
                        0.4333,
                        0.4262,
                        0.4194,
                        0.4127,
                        0.4063,
                        0.4,
                        0.3939,
                        0.3881,
                        0.3824,
                        0.3768,
                        0.3714,
                        0.3662,
                        0.3611,
                        0.3562,
                        0.3514,
                        0.3467,
                        0.3421,
                        0.3377,
                        0.3333,
                        0.3291,
                        0.325,
                        0.321,
                        0.3171,
                        0.3133,
                        0.3095,
                        0.3059,
                        0.3023,
                        0.2989,
                        0.2955,
                        0.2921,
                        0.2889,
                        0.2857,
                        0.2826,
                        0.2796,
                        0.2766,
                        0.2737,
                        0.2708,
                        0.268,
                        0.2653,
                        0.2626,
                        0.26
                    ]
                },
                {
                    "mode": "lines",
                    "name": "r_π (kΩ), β = 200",
                    "line": {
                        "color": "#ff6b8a",
                        "width": 2
                    },
                    "x": [
                        0.1,
                        0.2,
                        0.3,
                        0.4,
                        0.5,
                        0.6,
                        0.7,
                        0.8,
                        0.9,
                        1,
                        1.1,
                        1.2,
                        1.3,
                        1.4,
                        1.5,
                        1.6,
                        1.7,
                        1.8,
                        1.9,
                        2,
                        2.1,
                        2.2,
                        2.3,
                        2.4,
                        2.5,
                        2.6,
                        2.7,
                        2.8,
                        2.9,
                        3,
                        3.1,
                        3.2,
                        3.3,
                        3.4,
                        3.5,
                        3.6,
                        3.7,
                        3.8,
                        3.9,
                        4,
                        4.1,
                        4.2,
                        4.3,
                        4.4,
                        4.5,
                        4.6,
                        4.7,
                        4.8,
                        4.9,
                        5,
                        5.1,
                        5.2,
                        5.3,
                        5.4,
                        5.5,
                        5.6,
                        5.7,
                        5.8,
                        5.9,
                        6,
                        6.1,
                        6.2,
                        6.3,
                        6.4,
                        6.5,
                        6.6,
                        6.7,
                        6.8,
                        6.9,
                        7,
                        7.1,
                        7.2,
                        7.3,
                        7.4,
                        7.5,
                        7.6,
                        7.7,
                        7.8,
                        7.9,
                        8,
                        8.1,
                        8.2,
                        8.3,
                        8.4,
                        8.5,
                        8.6,
                        8.7,
                        8.8,
                        8.9,
                        9,
                        9.1,
                        9.2,
                        9.3,
                        9.4,
                        9.5,
                        9.6,
                        9.7,
                        9.8,
                        9.9,
                        10
                    ],
                    "y": [
                        52,
                        26,
                        17.3333,
                        13,
                        10.4,
                        8.6667,
                        7.4286,
                        6.5,
                        5.7778,
                        5.2,
                        4.7273,
                        4.3333,
                        4,
                        3.7143,
                        3.4667,
                        3.25,
                        3.0588,
                        2.8889,
                        2.7368,
                        2.6,
                        2.4762,
                        2.3636,
                        2.2609,
                        2.1667,
                        2.08,
                        2,
                        1.9259,
                        1.8571,
                        1.7931,
                        1.7333,
                        1.6774,
                        1.625,
                        1.5758,
                        1.5294,
                        1.4857,
                        1.4444,
                        1.4054,
                        1.3684,
                        1.3333,
                        1.3,
                        1.2683,
                        1.2381,
                        1.2093,
                        1.1818,
                        1.1556,
                        1.1304,
                        1.1064,
                        1.0833,
                        1.0612,
                        1.04,
                        1.0196,
                        1,
                        0.9811,
                        0.963,
                        0.9455,
                        0.9286,
                        0.9123,
                        0.8966,
                        0.8814,
                        0.8667,
                        0.8525,
                        0.8387,
                        0.8254,
                        0.8125,
                        0.8,
                        0.7879,
                        0.7761,
                        0.7647,
                        0.7536,
                        0.7429,
                        0.7324,
                        0.7222,
                        0.7123,
                        0.7027,
                        0.6933,
                        0.6842,
                        0.6753,
                        0.6667,
                        0.6582,
                        0.65,
                        0.642,
                        0.6341,
                        0.6265,
                        0.619,
                        0.6118,
                        0.6047,
                        0.5977,
                        0.5909,
                        0.5843,
                        0.5778,
                        0.5714,
                        0.5652,
                        0.5591,
                        0.5532,
                        0.5474,
                        0.5417,
                        0.5361,
                        0.5306,
                        0.5253,
                        0.52
                    ]
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "I_CQ (mA)"
                },
                "yaxis": {
                    "title": "r_π (kΩ)"
                },
                "showlegend": true
            }
        },
        {
            "id": "parameter-relationships",
            "type": "plotly",
            "title": "Key Parameter Relationships",
            "description": "g_m = I_CQ/V_T (β-independent!), r_π = β/g_m, r_e = 1/g_m ≈ 26mV/I_CQ, r_π = β·r_e.",
            "traces": [
                {
                    "x": [
                        "g_m = I_CQ/V_T",
                        "r_π = β/g_m",
                        "r_e = 1/g_m",
                        "r_π = β · r_e"
                    ],
                    "y": [
                        1,
                        1,
                        1,
                        1
                    ],
                    "type": "bar",
                    "marker": {
                        "color": [
                            "#2fbf8f",
                            "#4f8cff",
                            "#f5a623",
                            "#6b62ff"
                        ]
                    },
                    "text": [
                        "Transconductance<br>β-independent!",
                        "Input resistance<br>= βV_T/I_CQ",
                        "Emitter resistance<br>≈ 26mV/I_CQ",
                        "Linking<br>relationship"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 10,
                        "color": "#ffffff"
                    },
                    "showlegend": false,
                    "hoverinfo": "none"
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "Small-Signal Parameters"
                },
                "yaxis": {
                    "visible": false,
                    "range": [
                        0,
                        1.3
                    ]
                },
                "showlegend": false
            },
            "height": 280
        },
        {
            "id": "simplified-hybrid-pi",
            "type": "plotly",
            "title": "Simplified Model: Just r_π + g_m·v_be",
            "description": "When R_out >> R_L (almost always): drop R_out. Model = r_π (resistor) + g_m·v_be (VCCS). That's it.",
            "traces": [
                {
                    "x": [
                        "B →",
                        "r_π",
                        "→ E",
                        "g_m · v_be",
                        "→ C"
                    ],
                    "y": [
                        1,
                        1,
                        1,
                        1,
                        1
                    ],
                    "type": "bar",
                    "marker": {
                        "color": [
                            "#f5a623",
                            "#4f8cff",
                            "#f5a623",
                            "#2fbf8f",
                            "#f5a623"
                        ]
                    },
                    "text": [
                        "Base<br>input",
                        "Resistor<br>v_be across it",
                        "Emitter<br>common",
                        "VCCS<br>i_c = g_m·v_be",
                        "Collector<br>output"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 10,
                        "color": "#ffffff"
                    },
                    "showlegend": false,
                    "hoverinfo": "none"
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "Most commonly used model"
                },
                "yaxis": {
                    "visible": false,
                    "range": [
                        0,
                        1.3
                    ]
                },
                "showlegend": false,
                "annotations": [
                    {
                        "x": "g_m · v_be",
                        "y": 1.15,
                        "text": "R_out dropped (≈ ∞)",
                        "showarrow": false,
                        "font": {
                            "size": 11,
                            "color": "#aab4c0"
                        }
                    }
                ]
            },
            "height": 280
        },
        {
            "id": "thermal-voltage-note",
            "type": "plotly",
            "title": "The Thermal Voltage V_T ≈ 26 mV",
            "description": "V_T = kT/q. At room temperature (300K): V_T ≈ 26 mV. Sets the scale for all small-signal parameters.",
            "traces": [
                {
                    "x": [
                        "Formula",
                        "Constants",
                        "Result"
                    ],
                    "y": [
                        1,
                        1,
                        1
                    ],
                    "type": "bar",
                    "marker": {
                        "color": [
                            "#4f8cff",
                            "#6b62ff",
                            "#2fbf8f"
                        ]
                    },
                    "text": [
                        "V_T = kT/q",
                        "k = 1.38×10⁻²³ J/K<br>q = 1.6×10⁻¹⁹ C<br>T = 300 K",
                        "V_T ≈ 26 mV<br>at room temp"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 11,
                        "color": "#ffffff"
                    },
                    "showlegend": false,
                    "hoverinfo": "none"
                }
            ],
            "layout": {
                "xaxis": {
                    "title": ""
                },
                "yaxis": {
                    "visible": false,
                    "range": [
                        0,
                        1.3
                    ]
                },
                "showlegend": false
            },
            "height": 260
        },
        {
            "id": "parameter-calculator-sim",
            "type": "v3-waveform",
            "title": "Interactive: Small-Signal Parameter Calculator",
            "description": "Enter I_CQ and β to see g_m, r_π, r_e, and the complete hybrid-π model with calculated values."
        },
        {
            "id": "re-model-alternative",
            "type": "plotly",
            "title": "Hybrid-π Model vs r_e Model",
            "description": "Both are equivalent. Hybrid-π (r_π at base) suits CE analysis. r_e model (r_e at emitter) suits CB analysis.",
            "traces": [
                {
                    "x": [
                        "Feature",
                        "Input element",
                        "Best for"
                    ],
                    "y": [
                        1,
                        1,
                        1
                    ],
                    "name": "Hybrid-π Model",
                    "type": "bar",
                    "marker": {
                        "color": "#4f8cff"
                    },
                    "text": [
                        "r_π between<br>B and E",
                        "r_π = β·r_e",
                        "Common-emitter<br>analysis"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 10,
                        "color": "#ffffff"
                    }
                },
                {
                    "x": [
                        "Feature",
                        "Input element",
                        "Best for"
                    ],
                    "y": [
                        1,
                        1,
                        1
                    ],
                    "name": "r_e Model",
                    "type": "bar",
                    "marker": {
                        "color": "#2fbf8f"
                    },
                    "text": [
                        "r_e = V_T/I_CQ<br>in emitter",
                        "r_e = 1/g_m",
                        "Common-base<br>analysis"
                    ],
                    "textposition": "inside",
                    "textfont": {
                        "size": 10,
                        "color": "#ffffff"
                    }
                }
            ],
            "layout": {
                "xaxis": {
                    "title": ""
                },
                "yaxis": {
                    "visible": false,
                    "range": [
                        0,
                        2.2
                    ]
                },
                "barmode": "stack",
                "showlegend": true,
                "annotations": [
                    {
                        "x": "Feature",
                        "y": 2.1,
                        "text": "Both give identical results — r_π = β·r_e",
                        "showarrow": false,
                        "font": {
                            "size": 11,
                            "color": "#f5a623"
                        }
                    }
                ]
            },
            "height": 320
        }
    ]
}