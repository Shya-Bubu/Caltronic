{
    "conceptId": "inverting-amplifier",
    "visuals": [
        {
            "id": "diag-intuition-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "intuition",
            "title": "Inverting Amplifier Circuit",
            "description": "Input through R1 to inverting input (−), feedback resistor R2 from output to (−), non-inverting (+) grounded.",
            "blocks": [
                {
                    "id": "Vi",
                    "label": "Vi",
                    "x": 10,
                    "y": 60,
                    "type": "input"
                },
                {
                    "id": "R1",
                    "label": "R1 (2.2kΩ)",
                    "x": 70,
                    "y": 50,
                    "width": 90
                },
                {
                    "id": "opamp",
                    "label": "Op-Amp",
                    "x": 200,
                    "y": 40,
                    "width": 80,
                    "height": 60
                },
                {
                    "id": "R2",
                    "label": "R2 (39kΩ)",
                    "x": 200,
                    "y": 130,
                    "width": 90
                },
                {
                    "id": "Vo",
                    "label": "Vo",
                    "x": 340,
                    "y": 60,
                    "type": "output"
                },
                {
                    "id": "gnd",
                    "label": "GND",
                    "x": 200,
                    "y": 0,
                    "type": "input"
                }
            ],
            "connections": [
                {
                    "from": "Vi",
                    "to": "R1"
                },
                {
                    "from": "R1",
                    "to": "opamp",
                    "label": "−"
                },
                {
                    "from": "gnd",
                    "to": "opamp",
                    "label": "+"
                },
                {
                    "from": "opamp",
                    "to": "Vo"
                },
                {
                    "from": "opamp",
                    "to": "R2",
                    "label": "feedback"
                },
                {
                    "from": "R2",
                    "to": "R1"
                }
            ]
        },
        {
            "id": "sim-intuition-01",
            "visualType": "simulation",
            "type": "d3-simulation",
            "simulationType": "signal-generator",
            "placement": "intuition",
            "title": "Input/Output Waveform Explorer",
            "description": "See how the output is inverted (180° phase shift) and amplified."
        },
        {
            "id": "diag-intuition-02",
            "visualType": "diagram",
            "type": "d3-waveform",
            "placement": "intuition",
            "title": "Input vs Output Waveforms",
            "description": "Input (blue) and inverted output (orange) — notice the phase flip!",
            "waveType": "sine",
            "mode": "continuous"
        },
        {
            "id": "diag-engineering-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "engineering",
            "title": "Activity 1: Lab Setup",
            "description": "Function generator → Input → Circuit → Oscilloscope → Compare CH1 and CH2",
            "blocks": [
                {
                    "id": "fg",
                    "label": "Function Gen",
                    "x": 10,
                    "y": 50,
                    "type": "input",
                    "width": 90
                },
                {
                    "id": "circuit",
                    "label": "Inverting Amp",
                    "x": 140,
                    "y": 40,
                    "width": 100
                },
                {
                    "id": "scope",
                    "label": "Oscilloscope",
                    "x": 290,
                    "y": 50,
                    "type": "output",
                    "width": 90
                }
            ],
            "connections": [
                {
                    "from": "fg",
                    "to": "circuit",
                    "label": "Vi"
                },
                {
                    "from": "circuit",
                    "to": "scope",
                    "label": "Vo"
                }
            ]
        },
        {
            "id": "diag-mathematics-01",
            "visualType": "diagram",
            "type": "d3-block-diagram",
            "placement": "mathematics",
            "title": "KCL Analysis at Virtual Ground",
            "description": "I1 = Vi/R1 flows into the node, I2 = -Vo/R2 flows through feedback. Since I1 = I2, we get Vo/Vi = -R2/R1.",
            "blocks": [
                {
                    "id": "Vi",
                    "label": "Vi",
                    "x": 10,
                    "y": 50,
                    "type": "input"
                },
                {
                    "id": "I1",
                    "label": "I₁ = Vi/R1",
                    "x": 80,
                    "y": 40,
                    "width": 90
                },
                {
                    "id": "node",
                    "label": "V− = 0V",
                    "x": 200,
                    "y": 40,
                    "width": 70,
                    "height": 50
                },
                {
                    "id": "I2",
                    "label": "I₂ = −Vo/R2",
                    "x": 200,
                    "y": 120,
                    "width": 100
                },
                {
                    "id": "Vo",
                    "label": "Vo",
                    "x": 340,
                    "y": 50,
                    "type": "output"
                }
            ],
            "connections": [
                {
                    "from": "Vi",
                    "to": "I1"
                },
                {
                    "from": "I1",
                    "to": "node"
                },
                {
                    "from": "node",
                    "to": "Vo"
                },
                {
                    "from": "Vo",
                    "to": "I2",
                    "label": "feedback"
                },
                {
                    "from": "I2",
                    "to": "node"
                }
            ]
        }
    ]
}