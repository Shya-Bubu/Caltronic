{
    "visuals": [
        {
            "id": "ohms-law-ac-analogy",
            "type": "d3-block-diagram",
            "title": "DC Ohm's Law → AC Ohm's Law",
            "description": "The fundamental analogy: in DC circuits, V = RI with real R. In AC circuits, V = ZI with complex Z. The analysis techniques are identical.",
            "blocks": [
                {
                    "id": "dc",
                    "label": "DC: V = RI",
                    "x": 100,
                    "y": 60,
                    "width": 160
                },
                {
                    "id": "ac",
                    "label": "AC: V = ZI",
                    "x": 380,
                    "y": 60,
                    "width": 160
                },
                {
                    "id": "dc2",
                    "label": "R is real (Ω)",
                    "x": 100,
                    "y": 150,
                    "width": 160
                },
                {
                    "id": "ac2",
                    "label": "Z is complex (Ω)",
                    "x": 380,
                    "y": 150,
                    "width": 160
                }
            ],
            "connections": [
                {
                    "from": "dc",
                    "to": "ac",
                    "label": "Generalise"
                },
                {
                    "from": "dc2",
                    "to": "ac2",
                    "label": "R → Z"
                }
            ]
        },
        {
            "id": "resistor-phasor-diagram",
            "type": "plotly",
            "title": "Resistor Phasor Diagram: V and I in Phase",
            "description": "For a resistor, the voltage and current phasors point in the same direction — they are in phase. The resistor only scales the amplitude.",
            "traces": [
                {
                    "x": [
                        0,
                        5
                    ],
                    "y": [
                        0,
                        0
                    ],
                    "name": "V = 5∠0° V",
                    "mode": "lines",
                    "line": {
                        "color": "#3b82f6",
                        "width": 3
                    }
                },
                {
                    "x": [
                        0,
                        2.5
                    ],
                    "y": [
                        0,
                        0
                    ],
                    "name": "I = 2.5∠0° A (R = 2Ω)",
                    "mode": "lines",
                    "line": {
                        "color": "#22c55e",
                        "width": 3,
                        "dash": "dash"
                    }
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "Re",
                    "range": [
                        -1,
                        6
                    ]
                },
                "yaxis": {
                    "title": "Im",
                    "range": [
                        -2,
                        2
                    ]
                },
                "annotations": [
                    {
                        "x": 3,
                        "y": 0.5,
                        "text": "φ = 0° (in phase)",
                        "showarrow": false
                    }
                ]
            },
            "centeredAxes": true,
            "width": 440,
            "height": 300
        },
        {
            "id": "inductor-phasor-diagram",
            "type": "plotly",
            "title": "Inductor Phasor Diagram: V Leads I by 90°",
            "description": "For an inductor, Z_L = jωL = ωL∠90°. The voltage phasor is 90° ahead of the current phasor — ELI.",
            "traces": [
                {
                    "x": [
                        0,
                        0
                    ],
                    "y": [
                        0,
                        5
                    ],
                    "name": "V = 5∠90° V",
                    "mode": "lines+markers",
                    "line": {
                        "color": "#3b82f6",
                        "width": 3
                    },
                    "marker": {
                        "size": [
                            0,
                            10
                        ]
                    }
                },
                {
                    "x": [
                        0,
                        2.5
                    ],
                    "y": [
                        0,
                        0
                    ],
                    "name": "I = 2.5∠0° A",
                    "mode": "lines+markers",
                    "line": {
                        "color": "#22c55e",
                        "width": 3
                    },
                    "marker": {
                        "size": [
                            0,
                            10
                        ]
                    }
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "Re",
                    "range": [
                        -2,
                        4
                    ],
                    "scaleanchor": "y"
                },
                "yaxis": {
                    "title": "Im",
                    "range": [
                        -2,
                        6
                    ]
                },
                "annotations": [
                    {
                        "x": 0.7,
                        "y": 2,
                        "text": "V leads I by 90°",
                        "showarrow": false,
                        "font": {
                            "color": "#f59e0b"
                        }
                    }
                ]
            },
            "centeredAxes": true,
            "width": 400,
            "height": 420
        },
        {
            "id": "capacitor-phasor-diagram",
            "type": "plotly",
            "title": "Capacitor Phasor Diagram: V Lags I by 90°",
            "description": "For a capacitor, Z_C = 1/(jωC) = (1/ωC)∠(-90°). The voltage phasor is 90° behind the current phasor — ICE.",
            "traces": [
                {
                    "x": [
                        0,
                        0
                    ],
                    "y": [
                        0,
                        -5
                    ],
                    "name": "V = 5∠(-90°) V",
                    "mode": "lines+markers",
                    "line": {
                        "color": "#3b82f6",
                        "width": 3
                    },
                    "marker": {
                        "size": [
                            0,
                            10
                        ]
                    }
                },
                {
                    "x": [
                        0,
                        2.5
                    ],
                    "y": [
                        0,
                        0
                    ],
                    "name": "I = 2.5∠0° A",
                    "mode": "lines+markers",
                    "line": {
                        "color": "#22c55e",
                        "width": 3
                    },
                    "marker": {
                        "size": [
                            0,
                            10
                        ]
                    }
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "Re",
                    "range": [
                        -2,
                        4
                    ],
                    "scaleanchor": "y"
                },
                "yaxis": {
                    "title": "Im",
                    "range": [
                        -6,
                        2
                    ]
                },
                "annotations": [
                    {
                        "x": 0.7,
                        "y": -2,
                        "text": "V lags I by 90°",
                        "showarrow": false,
                        "font": {
                            "color": "#f59e0b"
                        }
                    }
                ]
            },
            "centeredAxes": true,
            "width": 400,
            "height": 420
        },
        {
            "id": "impedance-summary-table",
            "type": "d3-block-diagram",
            "title": "ELI the ICE Man: Phase Relationships at a Glance",
            "description": "Resistor: in phase. Inductor (L): E leads I. Capacitor (C): I leads E. Remember: ELI the ICE man!",
            "blocks": [
                {
                    "id": "r",
                    "label": "R: V in phase with I (φ = 0°)",
                    "x": 50,
                    "y": 50,
                    "width": 280
                },
                {
                    "id": "l",
                    "label": "L: V leads I by 90° (ELI)",
                    "x": 50,
                    "y": 120,
                    "width": 280
                },
                {
                    "id": "c",
                    "label": "C: I leads V by 90° (ICE)",
                    "x": 50,
                    "y": 190,
                    "width": 280
                }
            ],
            "connections": []
        },
        {
            "id": "impedance-plane-plot",
            "type": "plotly",
            "title": "The Impedance Plane",
            "description": "Impedances plotted on the Z-plane: R on horizontal, X on vertical. Resistors sit on the real axis. Inductors above (positive X). Capacitors below (negative X).",
            "traces": [
                {
                    "x": [
                        100
                    ],
                    "y": [
                        0
                    ],
                    "name": "R = 100 Ω (resistor)",
                    "mode": "markers+text",
                    "text": [
                        "R = 100 Ω"
                    ],
                    "textposition": "top right",
                    "marker": {
                        "color": "#3b82f6",
                        "size": 12
                    }
                },
                {
                    "x": [
                        0
                    ],
                    "y": [
                        62.83
                    ],
                    "name": "jωL = j62.83 Ω (inductor)",
                    "mode": "markers+text",
                    "text": [
                        "jωL = j62.83 Ω"
                    ],
                    "textposition": "top right",
                    "marker": {
                        "color": "#ef4444",
                        "size": 12
                    }
                },
                {
                    "x": [
                        0
                    ],
                    "y": [
                        -56.44
                    ],
                    "name": "1/jωC = -j56.44 Ω (capacitor)",
                    "mode": "markers+text",
                    "text": [
                        "1/jωC = -j56.44 Ω"
                    ],
                    "textposition": "bottom right",
                    "marker": {
                        "color": "#22c55e",
                        "size": 12
                    }
                },
                {
                    "x": [
                        100
                    ],
                    "y": [
                        62.83
                    ],
                    "name": "Z_RL = 100 + j62.83 Ω (series RL)",
                    "mode": "markers+text",
                    "text": [
                        "Z_RL"
                    ],
                    "textposition": "top left",
                    "marker": {
                        "color": "#f59e0b",
                        "size": 14,
                        "symbol": "star"
                    }
                }
            ],
            "layout": {
                "xaxis": {
                    "title": "Resistance R (Ω)",
                    "range": [
                        -20,
                        160
                    ]
                },
                "yaxis": {
                    "title": "Reactance X (Ω)",
                    "range": [
                        -80,
                        100
                    ]
                },
                "annotations": [
                    {
                        "x": 80,
                        "y": 85,
                        "text": "Inductive region (X > 0)",
                        "showarrow": false,
                        "font": {
                            "color": "#ef4444"
                        }
                    },
                    {
                        "x": 80,
                        "y": -70,
                        "text": "Capacitive region (X < 0)",
                        "showarrow": false,
                        "font": {
                            "color": "#22c55e"
                        }
                    }
                ]
            },
            "centeredAxes": true,
            "width": 520,
            "height": 480
        },
        {
            "id": "admittance-comparison",
            "type": "d3-block-diagram",
            "title": "Impedance vs Admittance Notation",
            "description": "Impedance Z = R + jX (Ohms). Admittance Y = G + jB (Siemens). Y = 1/Z. R ↔ G, X ↔ B, but ONLY for pure elements.",
            "blocks": [
                {
                    "id": "z",
                    "label": "Z = R + jX (Ω)",
                    "x": 50,
                    "y": 60,
                    "width": 200
                },
                {
                    "id": "y",
                    "label": "Y = G + jB (S)",
                    "x": 350,
                    "y": 60,
                    "width": 200
                },
                {
                    "id": "zr",
                    "label": "R = resistance",
                    "x": 50,
                    "y": 140,
                    "width": 200
                },
                {
                    "id": "yg",
                    "label": "G = conductance",
                    "x": 350,
                    "y": 140,
                    "width": 200
                },
                {
                    "id": "zx",
                    "label": "X = reactance",
                    "x": 50,
                    "y": 210,
                    "width": 200
                },
                {
                    "id": "yb",
                    "label": "B = susceptance",
                    "x": 350,
                    "y": 210,
                    "width": 200
                }
            ],
            "connections": [
                {
                    "from": "z",
                    "to": "y",
                    "label": "Y = 1/Z"
                }
            ]
        },
        {
            "id": "falstad-rc-phasor",
            "type": "falstad-sim",
            "title": "Interactive: RC Circuit Phase Relationship",
            "description": "Observe the voltage across the capacitor lagging the source voltage. The current leads the capacitor voltage by 90° — exactly as predicted by Z_C = 1/(jωC).",
            "circuitText": "$ 1 0.000005 10.20027730826997 50 5 43 5e-11\nv 176 304 176 112 0 1 60 5 0 0 0.5\nr 176 112 368 112 0 1000\nc 368 112 368 304 0 0.0000022 0 0.001\nw 368 304 176 304 0\ng 272 304 272 336 0 0\no 0 32 0 4099 5 0.05 0 2 0 3\no 2 32 0 4099 5 0.05 1 2 2 3\n",
            "height": 450
        }
    ]
}