{
    "conceptId": "power-and-passivity",
    "visuals": [
        {
            "id": "v1",
            "type": "d3-vi-curve",
            "curveType": "linear",
            "title": "Passive Resistor (Quadrants I and III)",
            "description": "Curve stays in quadrants I and III where vi ≥ 0. Power p = vi is always positive — resistor absorbs energy."
        },
        {
            "id": "v2",
            "type": "d3-vi-curve",
            "curveType": "tunnel",
            "title": "Active Region (Negative Resistance)",
            "description": "When the curve enters quadrant II or IV, vi < 0 and p < 0 — the element delivers energy (active)."
        },
        {
            "id": "v3",
            "type": "d3-block-diagram",
            "title": "Power Flow Convention",
            "description": "Passive sign convention: current enters positive terminal. If P > 0, element absorbs power.",
            "blocks": [
                {
                    "id": "i",
                    "label": "i →",
                    "x": 20,
                    "y": 50,
                    "type": "input"
                },
                {
                    "id": "r",
                    "label": "R",
                    "x": 100,
                    "y": 40,
                    "width": 70
                },
                {
                    "id": "v",
                    "label": "+ v -",
                    "x": 220,
                    "y": 50,
                    "type": "output"
                }
            ],
            "connections": [
                {
                    "from": "i",
                    "to": "r"
                },
                {
                    "from": "r",
                    "to": "v"
                }
            ]
        },
        {
            "id": "v4",
            "type": "d3-iv-curve",
            "title": "Power Calculations: Three Formulas",
            "description": "For a 100Ω resistor at 5V: P=VI=250mW, P=I²R=250mW, P=V²/R=250mW. All three give the same result!",
            "curves": [
                {
                    "label": "100Ω",
                    "type": "linear-resistor",
                    "resistance": 100,
                    "color": "#8b5cf6"
                }
            ],
            "annotations": [
                {
                    "point": {
                        "v": 5,
                        "i": 0.05
                    },
                    "text": "P = 250mW"
                }
            ]
        },
        {
            "id": "v5",
            "type": "d3-block-diagram",
            "title": "Power Quadrants",
            "description": "Quadrant I (v>0, i>0): absorbing power. Quadrant II (v<0, i>0): delivering power. Quadrant III (v<0, i<0): absorbing. Quadrant IV (v>0, i<0): delivering.",
            "blocks": [
                {
                    "id": "q1",
                    "label": "Q-I\\nAbsorb",
                    "x": 200,
                    "y": 20,
                    "width": 80,
                    "type": "process"
                },
                {
                    "id": "q2",
                    "label": "Q-II\\nDeliver",
                    "x": 100,
                    "y": 20,
                    "width": 80,
                    "type": "process"
                },
                {
                    "id": "q3",
                    "label": "Q-III\\nAbsorb",
                    "x": 100,
                    "y": 100,
                    "width": 80,
                    "type": "process"
                },
                {
                    "id": "q4",
                    "label": "Q-IV\\nDeliver",
                    "x": 200,
                    "y": 100,
                    "width": 80,
                    "type": "process"
                }
            ],
            "connections": []
        },
        {
            "id": "v6",
            "type": "d3-iv-curve",
            "title": "Power Contours on IV Plane",
            "description": "Hyperbolic curves show constant power levels. P=1W, P=5W, P=10W curves overlay the IV characteristic.",
            "curves": [
                {
                    "label": "100Ω Resistor",
                    "type": "linear-resistor",
                    "resistance": 100,
                    "color": "#3b82f6"
                }
            ]
        },
        {
            "id": "v7",
            "type": "d3-iv-curve",
            "title": "Passive vs Active Element",
            "description": "Passive (resistor): stays in absorbing quadrants. Active (battery): can deliver power to circuit.",
            "curves": [
                {
                    "label": "Passive (Resistor)",
                    "type": "linear-resistor",
                    "resistance": 50,
                    "color": "#10b981"
                },
                {
                    "label": "Active (Battery)",
                    "type": "voltage-source",
                    "voltage": 5,
                    "color": "#ef4444"
                }
            ]
        },
        {
            "id": "v8",
            "type": "d3-block-diagram",
            "title": "Energy Flow in Resistive Circuit",
            "description": "Battery supplies power → Resistor dissipates as heat. Total power delivered equals total power absorbed.",
            "blocks": [
                {
                    "id": "battery",
                    "label": "Battery\\n(Delivers P)",
                    "x": 30,
                    "y": 50,
                    "width": 100,
                    "type": "input"
                },
                {
                    "id": "resistor",
                    "label": "Resistor\\n(Absorbs P)",
                    "x": 200,
                    "y": 50,
                    "width": 100,
                    "type": "process"
                }
            ],
            "connections": [
                {
                    "from": "battery",
                    "to": "resistor",
                    "label": "Energy Flow →"
                }
            ]
        },
        {
            "id": "v9",
            "type": "d3-iv-curve",
            "title": "Power vs Current (Fixed R)",
            "description": "For constant resistance, power increases quadratically: P = I²R. Doubling current quadruples power!",
            "curves": [
                {
                    "label": "100Ω Resistor",
                    "type": "linear-resistor",
                    "resistance": 100,
                    "color": "#8b5cf6"
                }
            ]
        },
        {
            "id": "v10",
            "type": "d3-iv-curve",
            "title": "Maximum Power Point",
            "description": "For a voltage source with internal resistance, maximum power transfer occurs when load R = Rinternal.",
            "curves": [
                {
                    "label": "Source + Load",
                    "type": "real-voltage-source",
                    "voltage": 10,
                    "internalResistance": 50,
                    "color": "#f59e0b"
                }
            ],
            "annotations": [
                {
                    "point": {
                        "v": 5,
                        "i": 0.1
                    },
                    "text": "Max Power"
                }
            ]
        }
    ]
}